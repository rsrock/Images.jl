<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        
        <meta name="author" content="Tim Holy">
        
        <link rel="shortcut icon" href="../img/favicon.ico">

	<title>Function Reference - Images.jl</title>

        <link href="../css/bootstrap-custom.min.css" rel="stylesheet">
        <link href="../css/font-awesome-4.5.0.css" rel="stylesheet">
        <link href="../css/base.css" rel="stylesheet">
        <link rel="stylesheet" href="../css/highlight.css">
        <link href="../assets/Documenter.css" rel="stylesheet">

        <!-- HTML5 shim and Respond.js IE8 support of HTML5 elements and media queries -->
        <!--[if lt IE 9]>
            <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
            <script src="https://oss.maxcdn.com/libs/respond.js/1.3.0/respond.min.js"></script>
        <![endif]-->

        
    </head>

    <body>

        <div class="navbar navbar-default navbar-fixed-top" role="navigation">
    <div class="container">

        <!-- Collapsed navigation -->
        <div class="navbar-header">
            
            <!-- Expander button -->
            <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-collapse">
                <span class="sr-only">Toggle navigation</span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
            </button>
            

            <!-- Main title -->
            <a class="navbar-brand" href="..">Images.jl</a>
        </div>

        <!-- Expanded navigation -->
        <div class="navbar-collapse collapse">
            
                <!-- Main navigation -->
                <ul class="nav navbar-nav">
                
                
                    <li >
                        <a href="..">Home</a>
                    </li>
                
                
                
                    <li class="dropdown">
                        <a href="#" class="dropdown-toggle" data-toggle="dropdown">User Guide <b class="caret"></b></a>
                        <ul class="dropdown-menu">
                        
                            
<li >
    <a href="../aims/">Aims</a>
</li>

                        
                            
<li >
    <a href="../core/">Core Concepts</a>
</li>

                        
                            
<li >
    <a href="../overlays/">Overlays</a>
</li>

                        
                        </ul>
                    </li>
                
                
                
                    <li class="active">
                        <a href="./">Function Reference</a>
                    </li>
                
                
                </ul>
            

            <ul class="nav navbar-nav navbar-right">
                <li>
                    <a href="#" data-toggle="modal" data-target="#mkdocs_search_modal">
                        <i class="fa fa-search"></i> Search
                    </a>
                </li>
                
                    <li >
                        <a rel="next" href="../overlays/">
                            <i class="fa fa-arrow-left"></i> Previous
                        </a>
                    </li>
                    <li class="disabled">
                        <a rel="prev" >
                            Next <i class="fa fa-arrow-right"></i>
                        </a>
                    </li>
                
                
                    <li>
                        <a href="https://github.com/rsrock/Images.jl.git">
                            
                                <i class="fa fa-github"></i>
                            
                            GitHub
                        </a>
                    </li>
                
            </ul>
        </div>
    </div>
</div>

        <div class="container">
            
                <div class="col-md-3"><div class="bs-sidebar hidden-print affix well" role="complementary">
    <ul class="nav bs-sidenav">
    
        <li class="main active"><a href="#function-reference">Function Reference</a></li>
        
    
        <li class="main "><a href="#image-construction">Image construction</a></li>
        
    
        <li class="main "><a href="#accessing-image-data">Accessing image data</a></li>
        
    
        <li class="main "><a href="#properties-dictionary-like-interface">Properties dictionary-like interface</a></li>
        
    
        <li class="main "><a href="#properties-accessor-function-interface">Properties accessor-function interface</a></li>
        
    
        <li class="main "><a href="#element-transformation-and-intensity-scaling">Element transformation and intensity scaling</a></li>
        
            <li><a href="#mapinfo">MapInfo</a></li>
        
    
        <li class="main "><a href="#color-conversion">Color conversion</a></li>
        
    
        <li class="main "><a href="#image-io">Image I/O</a></li>
        
    
        <li class="main "><a href="#image-algorithms">Image algorithms</a></li>
        
    
        <li class="main "><a href="#linear-filtering-and-padding">Linear filtering and padding</a></li>
        
    
        <li class="main "><a href="#feature-extraction">Feature Extraction</a></li>
        
    
        <li class="main "><a href="#filtering-kernels">Filtering kernels</a></li>
        
    
        <li class="main "><a href="#nonlinear-filtering-and-transformation">Nonlinear filtering and transformation</a></li>
        
    
        <li class="main "><a href="#resizing">Resizing</a></li>
        
    
        <li class="main "><a href="#image-statistics">Image statistics</a></li>
        
    
        <li class="main "><a href="#morphological-operations">Morphological operations</a></li>
        
    
        <li class="main "><a href="#phantoms">Phantoms</a></li>
        
    
    </ul>
</div></div>
                <div class="col-md-9" role="main">

<p><a id='Function-Reference-1'></a></p>
<h1 id="function-reference">Function Reference</h1>
<p>Below, <code>[]</code> in an argument list means an optional argument.</p>
<p><a id='Image-construction-1'></a></p>
<h1 id="image-construction">Image construction</h1>
<p>@{Image} @{ImageCmap}</p>
<pre><code>convert(Image, A)
convert(Array, img)
convert(Image{HSV}, img)
</code></pre>

<p>The first creates a 2d image from an array, setting up default properties. The data array is assumed to be in "vertical-major" order, and an m-by-n-by-3 array will be assumed to encode color along its third dimension.</p>
<p><code>convert(Array, img)</code> works in the opposite direction, permuting dimensions (if needed) to put it in Matlab-standard storage order.</p>
<p>The third syntax allows you to convert from one colorspace to another.</p>
<p>@{     grayim     colorim     copyproperties     shareproperties     similar     Overlay     OverlayImage }</p>
<p><a id='Accessing-image-data-1'></a></p>
<h1 id="accessing-image-data">Accessing image data</h1>
<p>@{     data     raw     separate }</p>
<p>img<a href="../indexing"></a></p>
<pre><code class="julia">img[i, j, k,...]
img[&quot;x&quot;, 100:200, &quot;y&quot;, 400:600]
</code></pre>

<p>return image data as an array. The latter syntax allows you to address dimensions by name, irrespective of the storage order. The returned values have the same storage order as the parent.</p>
<p>@{     getindexim }</p>
<p>sub and slice</p>
<pre><code class="julia">sub(img, i, j, k, ...)
sub(img, &quot;x&quot;, 100:200, &quot;y&quot;, 400:600)
slice(img, i, j, k, ...)
slice(img, &quot;x&quot;, 15, &quot;y&quot;, 400:600)
</code></pre>

<p>returns a <code>SubArray</code> of image data, with the ordinary meanings of <code>sub</code> and <code>slice</code>.</p>
<p>subim and sliceim</p>
<pre><code class="julia">subim(img, i, j, k, ...)
subim(img, &quot;x&quot;, 100:200, &quot;y&quot;, 400:600)
sliceim(img, i, j, k, ...)
subim(img, &quot;x&quot;, 15, &quot;y&quot;, 400:600)
</code></pre>

<p>returns an <code>Image</code> with <code>SubArray</code> data.</p>
<p><a id='Properties-dictionary-like-interface-1'></a></p>
<h1 id="properties-dictionary-like-interface">Properties dictionary-like interface</h1>
<p>Unless specified, these functions work on both plain arrays (when properties can be inferred), and on <code>Image</code> types.</p>
<pre><code class="julia">val = img[&quot;propertyname&quot;]
img[&quot;propertyname&quot;] = val
</code></pre>

<p>get and set, respectively, the value of a property. These work only for <code>Image</code> types.</p>
<p>haskey</p>
<pre><code class="julia">haskey(img, &quot;propertyname&quot;)
</code></pre>

<p>Tests whether the named property exists. Returns false for <code>Array</code>s.</p>
<p>get</p>
<pre><code class="julia">get(img, &quot;propertyname&quot;, defaultvalue)
</code></pre>

<p>Gets the named property, or returns the default if not present. For <code>Array</code>, the default is always returned.</p>
<p><a id='Properties-accessor-function-interface-1'></a></p>
<h1 id="properties-accessor-function-interface">Properties accessor-function interface</h1>
<p>Unless specified, these functions work on both plain arrays (when properties can be inferred), and on <code>Image</code> types.</p>
<p>@{     assert2d     assert_scalar_color     assert_timedim_last     assert_xfirst     colordim     colorspace     coords_spatial     height     isdirect     isxfirst     isyfirst     pixelspacing     spacedirections     nimages     sdims }</p>
<p>size</p>
<pre><code class="julia">size(img, 2)
size(img, &quot;t&quot;)
</code></pre>

<p>Obtains the size of the specified dimension, even for dimensions specified by name. See also <code>nimages</code>, <code>size_spatial</code>, <code>width</code>, <code>height</code>, and <code>widthheight</code>.</p>
<p>@{     size_spatial     spatialorder     spatialpermutation     spatialproperties     storageorder     timedim     width     widthheight }</p>
<p><a id='Element-transformation-and-intensity-scaling-1'></a></p>
<h1 id="element-transformation-and-intensity-scaling">Element transformation and intensity scaling</h1>
<p>Many images require some type of transformation before you can use or view them. For example, visualization libraries work in terms of 8-bit data, so if you're using a 16-bit scientific camera, your image values will need to be scaled before display.</p>
<p>One can directly rescale the pixel intensities in the image array.  In general, element-wise transformations are handled by <code>map</code> or <code>map!</code>, where the latter is used when you want to provide a pre-allocated output.  You can use an anonymous function of your own design, or, if speed is paramount, the "anonymous functions" of the <a href="https://github.com/timholy/FastAnonymous.jl">FastAnonymous</a> package.</p>
<p>Images also supports "lazy transformations." When loading a very large image, (e.g., loaded by memory-mapping) you may use or view just a small portion of it. In such cases, it would be quite wasteful to force transformation of the entire image, and indeed on might exhaust available memory or need to write a new file on disk.  <code>Images</code> supports lazy-evaluation scaling through the <code>MapInfo</code> abstract type.  The basic syntax is</p>
<pre><code class="julia">valout = map(mapi::MapInfo, valin)
</code></pre>

<p>Here <code>val</code> can refer to a single pixel's data, or to the entire image array. The <code>mapi</code> input is a type that determines how the input value is scale and converted to a new type.</p>
<p><a id='MapInfo-1'></a></p>
<h2 id="mapinfo">MapInfo</h2>
<p>Here is how to directly construct the major concrete <code>MapInfo</code> types:</p>
<ul>
<li>
<p><code>MapNone(T)</code>, indicating that the only form of scaling is conversion   to type T.  This can throw an error if a value <code>x</code> cannot be   represented as an object of type <code>T</code>, e.g., <code>map(MapNone{U8}, 1.2)</code>.</p>
</li>
<li>
<p><code>ClampMin(T, minvalue)</code>, <code>ClampMax(T, maxvalue)</code>, and   <code>ClampMinMax(T, minvalue, maxvalue)</code> create <code>MapInfo</code> objects that   clamp pixel values at the specified min, max, and min/max values,   respectively, before converting to type <code>T</code>. Clamping is equivalent   to <code>clampedval = min(max(val, minvalue), maxvalue)</code>.</p>
</li>
<li>
<p><code>BitShift(T, N)</code> or <code>BitShift{T,N}()</code>, for scaling by bit-shift operators.   <code>N</code> specifies the number of bits to right-shift by.  For example you could   convert a 14-bit image to 8-bits using <code>BitShift(Uint8, 6)</code>.  In general this   will be faster than using multiplication.</p>
</li>
<li>
<p><code>ScaleMinMax(T, min, max, [scalefactor])</code> clamps the image at the specified   min/max values, subtracts the min value, scales the result by multiplying by   <code>scalefactor</code>, and finally converts the type.  If <code>scalefactor</code> is not   specified, it defaults to scaling the range <code>[min,max]</code> to <code>[0,1]</code>.</p>
</li>
<li>
<p><code>ScaleAutoMinMax(T)</code> will cause images to be dynamically scaled to their   specific min/max values, using the same algorithm for <code>ScaleMinMax</code>. When   displaying a movie, the min/max will be recalculated for each frame, so this   can result in inconsistent contrast scaling.</p>
</li>
<li>
<p><code>ScaleSigned(T, scalefactor)</code> multiplies the image by the scalefactor, then   clamps to the range <code>[-1,1]</code>. If <code>T</code> is a floating-point type, it stays in   this representation.  If <code>T</code> is <code>RGB24</code> or <code>RGB{UFixed8}</code>, then it is encoded   as a magenta (positive)/green (negative) image.</p>
</li>
</ul>
<p>There are also convenience functions:</p>
<p>@{     imstretch     sc     MapInfo     mapinfo }</p>
<p><a id='Color-conversion-1'></a></p>
<h1 id="color-conversion">Color conversion</h1>
<p>convert</p>
<pre><code class="julia">convert(Image{Color}, img)
</code></pre>

<p>as described above. Use <code>convert(Image{Gray}, img)</code> to calculate a grayscale representation of a color image using the <a href="http://en.wikipedia.org/wiki/Luma_%28video%29#Rec._601_luma_versus_Rec._709_luma_coefficients">Rec 601 luma</a>.</p>
<p>map</p>
<pre><code class="julia">map(mapi, img)
map!(mapi, dest, img)
</code></pre>

<p>can be used to specify both the form of the result and the algorithm used.</p>
<p><a id='Image-I/O-1'></a></p>
<h1 id="image-io">Image I/O</h1>
<p>Image loading and saving is handled by the <a href="https://github.com/JuliaIO/FileIO.jl">FileIO</a> package.</p>
<p><a id='Image-algorithms-1'></a></p>
<h1 id="image-algorithms">Image algorithms</h1>
<p>You can perform arithmetic with <code>Image</code>s and <code>Color</code>s. Algorithms also include the following functions:</p>
<p><a id='Linear-filtering-and-padding-1'></a></p>
<h1 id="linear-filtering-and-padding">Linear filtering and padding</h1>
<p>@{     imfilter     imfilter!     imfilter_fft     imfilter_gaussian     imfilter_LoG     imgradients     magnitude     phase     orientation     magnitude_phase     imedge     thin_edges     forwarddiffx     forwarddiffy     backdiffx     backdiffy     padarray }</p>
<p><a id='Feature-Extraction-1'></a></p>
<h1 id="feature-extraction">Feature Extraction</h1>
<p>@{     blob_LoG     findlocalmaxima     findlocalminima }</p>
<p><a id='Filtering-kernels-1'></a></p>
<h1 id="filtering-kernels">Filtering kernels</h1>
<p>@{     gaussian2d     imaverage     imdog     imlaplacian     imlog     sobel     prewitt     ando3     ando4     ando5 }</p>
<p><a id='Nonlinear-filtering-and-transformation-1'></a></p>
<h1 id="nonlinear-filtering-and-transformation">Nonlinear filtering and transformation</h1>
<p>@{     imROF     imcorner }</p>
<p><a id='Resizing-1'></a></p>
<h1 id="resizing">Resizing</h1>
<p>@{     restrict }</p>
<p><a id='Image-statistics-1'></a></p>
<h1 id="image-statistics">Image statistics</h1>
<p>@{     minfinite     maxfinite     maxabsfinite     meanfinite     ssd     ssdn     sad     sadn }</p>
<p><a id='Morphological-operations-1'></a></p>
<h1 id="morphological-operations">Morphological operations</h1>
<p>@{     dilate     erode     opening     closing     tophat     bothat     morphogradient     morpholaplace     label_components     component_boxes     component_lengths     component_indices     component_subscripts     component_centroids }</p>
<p><a id='Phantoms-1'></a></p>
<h1 id="phantoms">Phantoms</h1>
<p>@{     shepp_logan }</p></div>
            
        </div>

        <footer class="col-md-12">
            <hr>
            
            <p>Documentation built with <a href="http://www.mkdocs.org/">MkDocs</a>.</p>
        </footer>

        <script src="../js/jquery-1.10.2.min.js"></script>
        <script src="../js/bootstrap-3.0.3.min.js"></script>
        <script src="../js/highlight.pack.js"></script>
        <script>var base_url = '..';</script>
        <script data-main="../mkdocs/js/search.js" src="../mkdocs/js/require.js"></script>
        <script src="../js/base.js"></script>
        <script src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
        <script src="../assets/mathjaxhelper.js"></script>

        <div class="modal" id="mkdocs_search_modal" tabindex="-1" role="dialog" aria-labelledby="Search Modal" aria-hidden="true">
            <div class="modal-dialog">
                <div class="modal-content">
                    <div class="modal-header">
                        <button type="button" class="close" data-dismiss="modal"><span aria-hidden="true">&times;</span><span class="sr-only">Close</span></button>
                        <h4 class="modal-title" id="exampleModalLabel">Search</h4>
                    </div>
                    <div class="modal-body">
                        <p>
                            From here you can search these documents. Enter
                            your search terms below.
                        </p>
                        <form role="form">
                            <div class="form-group">
                                <input type="text" class="form-control" placeholder="Search..." id="mkdocs-search-query">
                            </div>
                        </form>
                        <div id="mkdocs-search-results"></div>
                    </div>
                    <div class="modal-footer">
                    </div>
                </div>
            </div>
        </div>

    </body>
</html>
